---
title: Read Balance
description: Read native CFX and ERC-20 balances on Conflux eSpace.
---

import { Callout } from 'nextra/components'

# Read Balance

Query the native CFX balance and any ERC-20 token balance for an address.

<Callout type="tip">
Edit the `address` constant to check any wallet.
</Callout>

<Playground
  file="/index.ts"
  files={{
    "/index.ts": `import { EspaceClient, formatUnits } from '@cfxdevkit/core'
import { NETWORK } from './network-config'

// ── Config ─────────────────────────────────────────────────
const ADDRESS = '0x0000000000000000000000000000000000000001'
// Well-known ERC-20: Wrapped CFX on testnet
const WCFX_TESTNET = '0x2ed3dddae5b2f321af0806181fbfa6d049be47d8'

// ── Create cfxdevkit eSpace client ─────────────────────────
const client = new EspaceClient({
  chainId: NETWORK.chainId,
  rpcUrl:  NETWORK.rpcUrl,
})

async function main() {
  console.log('Network: ', NETWORK.rpcUrl)
  console.log('Chain ID:', NETWORK.chainId)

  const block = await client.getBlockNumber()
  console.log('Block #: ', block.toString())
  console.log()

  // getBalance() returns a formatted CFX string (not raw wei)
  const cfx = await client.getBalance(ADDRESS as \`0x\${string}\`)
  console.log('Native balance:', cfx, 'CFX')

  // getTokenBalance() returns raw BigInt as string; formatUnits converts it
  try {
    const raw = await client.getTokenBalance(ADDRESS, WCFX_TESTNET)
    const wcfx = formatUnits(BigInt(raw), 18)
    console.log('WCFX balance:  ', wcfx, 'WCFX')
  } catch {
    console.log('WCFX: (not available on local network)')
  }

  console.log()
  console.log('✓ Done')
}

main().catch(console.error)
`
  }}
  showConsole
/>

---

## How it works

1. `EspaceClient` from `@cfxdevkit/core` wraps viem's `PublicClient` — pass `chainId` + `rpcUrl` and it configures the chain automatically.
2. `client.getBalance(address)` returns a **formatted CFX string** (not raw wei), so no manual `formatEther` is needed.
3. `client.getTokenBalance(address, tokenAddress)` calls `balanceOf` under the hood and returns the raw BigInt as a string — use `formatUnits` to convert.
4. `getBlockNumber()` returns a `bigint` — call `.toString()` before printing.

The `network-config.ts` file is auto-generated when you toggle the network above.
