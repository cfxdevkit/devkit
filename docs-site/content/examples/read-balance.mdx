---
title: Read Balance
description: Read native CFX and ERC-20 balances on Conflux eSpace.
---

import { Callout } from 'nextra/components'

# Read Balance

Query the native CFX balance and any ERC-20 token balance for an address.

<Callout type="tip">
Edit the `address` constant to check any wallet. Toggle the network above the editor to switch between testnet and local.
</Callout>

<Playground
  file="/index.ts"
  files={{
    "/index.ts": `import { createPublicClient, http, formatEther, formatUnits } from 'viem'
import { NETWORK } from './network-config'

// ── Config ─────────────────────────────────────────────────
const ADDRESS = '0x0000000000000000000000000000000000000001'

// Well-known testnet ERC-20 (Wrapped CFX on testnet)
const WCFX_TESTNET = '0x2ed3dddae5b2f321af0806181fbfa6d049be47d8'

const ERC20_BALANCE_OF = [{
  name: 'balanceOf',
  type: 'function',
  stateMutability: 'view',
  inputs: [{ name: 'owner', type: 'address' }],
  outputs: [{ name: '', type: 'uint256' }],
}] as const

// ── Client ─────────────────────────────────────────────────
const client = createPublicClient({
  transport: http(NETWORK.rpcUrl),
})

// ── Read native balance ─────────────────────────────────────
async function main() {
  console.log('Network:', NETWORK.rpcUrl)
  console.log('Chain ID:', NETWORK.chainId)
  console.log()

  // Native CFX balance
  const wei = await client.getBalance({ address: ADDRESS as \`0x\${string}\` })
  console.log('Native balance:', formatEther(wei), 'CFX')

  // ERC-20 token balance (WCFX on testnet)
  try {
    const tokenBal = await client.readContract({
      address: WCFX_TESTNET as \`0x\${string}\`,
      abi: ERC20_BALANCE_OF,
      functionName: 'balanceOf',
      args: [ADDRESS as \`0x\${string}\`],
    })
    console.log('WCFX balance:', formatEther(tokenBal), 'WCFX')
  } catch (e) {
    console.log('(WCFX not available on local network)')
  }

  console.log()
  console.log('✓ Done')
}

main().catch(console.error)
`
  }}
  showConsole
/>

---

## How it works

1. `createPublicClient` from `viem` connects to the RPC from the network toggle
2. `getBalance` returns the native CFX balance in wei — we format it with `formatEther`
3. `readContract` calls `balanceOf` on the WCFX token contract

The `network-config.ts` file is auto-generated when you toggle the network above.
