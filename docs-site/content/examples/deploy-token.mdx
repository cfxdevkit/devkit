---
title: Deploy ERC-20
description: Deploy a full-featured ERC-20 token from the cfxdevkit bootstrap library.
---

import { Callout } from 'nextra/components'

# Deploy ERC-20

Deploy the `ERC20Base` bootstrap contract — a capped, burnable, pausable ERC-20 with ERC-2612 permit and role-based access control.

<Callout type="warning">
This example **simulates** the deploy calldata and gas estimate. To actually send the transaction you need a private key — paste yours into the `PRIVATE_KEY` constant (use a testnet wallet only!).
</Callout>

<Playground
  file="/index.ts"
  files={{
    "/erc20Base.ts": `// Minimal ABI + bytecode stub for demonstration
// In production: import { erc20BaseAbi, erc20BaseBytecode } from '@cfxdevkit/contracts'
export const erc20BaseAbi = [
  {
    type: 'constructor',
    inputs: [
      { name: 'name',            type: 'string'  },
      { name: 'symbol',          type: 'string'  },
      { name: 'initialSupply',   type: 'uint256' },
      { name: 'owner',           type: 'address' },
    ],
  },
  { name: 'name',        type: 'function', stateMutability: 'view', inputs: [], outputs: [{ type: 'string' }] },
  { name: 'symbol',      type: 'function', stateMutability: 'view', inputs: [], outputs: [{ type: 'string' }] },
  { name: 'totalSupply', type: 'function', stateMutability: 'view', inputs: [], outputs: [{ type: 'uint256' }] },
] as const
`,
    "/index.ts": `import {
  createPublicClient,
  createWalletClient,
  http,
  parseEther,
  encodeDeployData,
  formatEther,
  privateKeyToAccount,
} from 'viem'
import { NETWORK } from './network-config'
import { erc20BaseAbi } from './erc20Base'

// ── Config ─────────────────────────────────────────────────
const TOKEN_NAME    = 'My Demo Token'
const TOKEN_SYMBOL  = 'DEMO'
const INITIAL_SUPPLY = parseEther('1_000_000') // 1 million tokens

// ⚠️  Replace with a TESTNET private key to actually deploy
const PRIVATE_KEY = '0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80'

// ── Client ─────────────────────────────────────────────────
const account = privateKeyToAccount(PRIVATE_KEY as \`0x\${string}\`)
const publicClient = createPublicClient({ transport: http(NETWORK.rpcUrl) })

async function main() {
  console.log('Network:', NETWORK.rpcUrl)
  console.log('Deployer:', account.address)
  console.log()

  // Estimate gas
  const calldata = encodeDeployData({
    abi: erc20BaseAbi,
    bytecode: '0x60806040',  // stub — use real bytecode from @cfxdevkit/contracts
    args: [TOKEN_NAME, TOKEN_SYMBOL, INITIAL_SUPPLY, account.address],
  })

  console.log('Token name:    ', TOKEN_NAME)
  console.log('Token symbol:  ', TOKEN_SYMBOL)
  console.log('Initial supply:', formatEther(INITIAL_SUPPLY), TOKEN_SYMBOL)
  console.log()
  console.log('Deploy calldata (first 66 chars):')
  console.log(calldata.slice(0, 66) + '...')
  console.log()
  console.log('✓ To deploy, use:')
  console.log('  import { erc20BaseAbi, erc20BaseBytecode } from "@cfxdevkit/contracts"')
  console.log('  walletClient.deployContract({ abi, bytecode, args: [...] })')
}

main().catch(console.error)
`
  }}
  showConsole
/>

---

## Using the real bytecode

```typescript
import { erc20BaseAbi, erc20BaseBytecode } from '@cfxdevkit/contracts'
import { parseEther } from 'viem'

const hash = await walletClient.deployContract({
  abi: erc20BaseAbi,
  bytecode: erc20BaseBytecode,
  args: [
    'My Token',             // name
    'MTK',                  // symbol
    parseEther('1000000'),  // initialSupply
    ownerAddress,           // owner
  ],
})

const receipt = await publicClient.waitForTransactionReceipt({ hash })
console.log('Deployed at:', receipt.contractAddress)
```
