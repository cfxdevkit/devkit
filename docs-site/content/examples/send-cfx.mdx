---
title: Send CFX
description: Construct and sign a native CFX transfer on Conflux eSpace.
---

import { Callout } from 'nextra/components'

# Send CFX

Construct, sign and broadcast a native CFX transfer on Conflux eSpace.

<Callout type="warning">
This example uses a well-known **test private key** (Hardhat account 0). Replace it with your own **testnet wallet** before sending real transactions.
</Callout>

<Playground
  file="/index.ts"
  files={{
    "/index.ts": `import { EspaceWalletClient, parseUnits } from '@cfxdevkit/core'
import { NETWORK } from './network-config'

// ── Config ─────────────────────────────────────────────────
// ⚠️  TESTNET key only — never use mainnet keys in browser code
const PRIVATE_KEY = '0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80'
const RECIPIENT   = '0x70997970C51812dc3A010C7d01b50e0d17dc79C8'
const AMOUNT_CFX  = '0.001'

// ── Create cfxdevkit wallet client ─────────────────────────
const wallet = new EspaceWalletClient({
  chainId:    NETWORK.chainId,
  rpcUrl:     NETWORK.rpcUrl,
  privateKey: PRIVATE_KEY,
})

async function main() {
  console.log('Network:  ', NETWORK.rpcUrl)
  console.log('Chain ID: ', NETWORK.chainId)
  console.log('From:     ', wallet.getAddress())
  console.log('To:       ', RECIPIENT)
  console.log('Amount:   ', AMOUNT_CFX, 'CFX')
  console.log()

  // getBalance() returns formatted CFX string
  const balance = await wallet.getBalance(wallet.getAddress())
  console.log('Sender balance:', balance, 'CFX')

  if (parseFloat(balance) < parseFloat(AMOUNT_CFX)) {
    console.log('⚠  Insufficient balance — skipping send')
    console.log('   Fund at: https://faucet.confluxnetwork.org/')
    return
  }

  const value = parseUnits(AMOUNT_CFX, 18)

  // Estimate gas via the base EspaceClient method
  const gas = await wallet.estimateGas({ to: RECIPIENT, value })
  console.log('Estimated gas:', gas.toString())

  // Send — EspaceWalletClient handles signing internally
  const hash = await wallet.sendTransaction({ to: RECIPIENT, value })

  console.log()
  console.log('✓ Transaction sent!')
  console.log('  Hash:', hash)

  // waitForTransaction wraps viem's waitForTransactionReceipt
  const receipt = await wallet.waitForTransaction(hash)
  console.log('  Block:    ', receipt.blockNumber.toString())
  console.log('  Gas used: ', receipt.gasUsed.toString())
  console.log('  Status:   ', receipt.status)
}

main().catch(console.error)
`
  }}
  showConsole
/>

---

## Testnet faucet

To fund a testnet address, visit **https://faucet.confluxnetwork.org/** and enter your address.

## How it works

1. `EspaceWalletClient` extends `EspaceClient` with signing — pass your `privateKey` alongside `chainId` + `rpcUrl`.
2. `wallet.getAddress()` returns the derived account address.
3. `wallet.getBalance(address)` returns a formatted CFX string — no raw wei arithmetic needed.
4. `wallet.estimateGas({ to, value })` delegates to the underlying viem `PublicClient`.
5. `wallet.sendTransaction({ to, value })` signs and broadcasts; returns the tx hash.
6. `wallet.waitForTransaction(hash)` returns a unified `TransactionReceipt` with `blockNumber`, `gasUsed`, `status`.
